# RID Qualifier Tests

This directory contains a series of tests for qualifying Network Remote ID compliance. It will contain four things:

1. **Flight track dataset generator** (`flight_data_generator.py`): An API to generate multiple flight paths and patterns within a specified bounding box. You can specify a bounding box in any part of the world the generator will create a grid for flights for the bounds provided. In addition, circular flight paths will be generated within that grid. The output of this API are flight data file artifacts in GeoJSON [FeatureCollection](https://tools.ietf.org/html/rfc7946#section-3.3) format. In addition to the flight tracks, query bounding boxes are also generated as a GeoJSON FeatureCollection format. Finally the flight tracks are converted to a `RIDAircraftState` data: by adding metadata and timestamps to the points. The conversion of flight track points to RIDAircraftState can be considered as a simplified simulation. All the files, once generated are stored in the `test_definitions` directory.

2. **Aircraft state replayer** (`aircraft_state_replayer.py`): Using the flight data generated by the previous tool, we simulate flights and "fly" them by emitting aircraft states to be fed to the Remote ID Service Provider test harnesses. Specific details and metadata about the flights are included when submitting to the SP test harnesses via the injection API.

3. **Test executor**: (`test_executor.py`) The test executor is  the main routine of `rid_qualifier`: it instructs the `aircraft_state_replayer` to send test data into each SP's injection harness, and then asks the `display_data_evaluator` to query the RID system for expected data and evaluate the query results against expectations to produce qualification results.

4. **Display Data Evaluator**: Once test aircraft state data is sent to each Remote ID Service Provider's injection test harness to be injected into their systems, the state of the RID system must be queried and then the results of those queries compared against expected results.  This module performs the latter tasks of querying the RID system through each specified Remote ID Display Provider's ingestion test harness, and comparing those query results against expectations. [Flight Blender](https://github.com/openskies-sh/flight-blender) is an open-source Remote ID Display Provider that will implement an ingestion test harness, and therefore can be used to test compliance.

## Running locally

This tool can be run locally on your system via the [run_locally.sh](run_locally.sh) script. Please review that file to see the different options that can be configured before running instance locally. NB: A remote ID system to test must be available and configured before `run_locally.sh` is executed. A full mock RID system can be brought up locally using the [mock](mock/README.md)
